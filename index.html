<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Registro de Geo - Docas</title>
<style>
body { font-family: sans-serif; text-align: center; margin-top: 40px; }
input, button { margin: 8px; padding: 10px; font-size: 16px; width: 80%; max-width: 300px; }
button { width: 150px; }
#status { margin-top: 20px; font-weight: bold; }
</style>
</head>
<body>
<h2>Registrar Coordenadas das Docas</h2>

<label for="area">Nome da Doca:</label><br>
<input type="text" id="area" placeholder="Ex: Doca01"><br><br>

<button onclick="capturar(1)">Posi√ß√£o 1</button>
<button onclick="capturar(2)">Posi√ß√£o 2</button><br>
<button onclick="capturar(3)">Posi√ß√£o 3</button>
<button onclick="capturar(4)">Posi√ß√£o 4</button>

<p id="status"></p>

<script>
const SCRIPT_URL = "COLE_AQUI_SUA_URL_DO_APP_SCRIPT";

function capturar(posicao) {
  const area = document.getElementById('area').value.trim();
  if (!area) {
    document.getElementById('status').innerText = "‚ö†Ô∏è Digite o nome da doca antes de capturar.";
    return;
  }

  document.getElementById('status').innerText = "üì° Capturando localiza√ß√£o...";

  if (!navigator.geolocation) {
    document.getElementById('status').innerText = "‚ùå Geolocaliza√ß√£o n√£o suportada neste dispositivo.";
    return;
  }

  navigator.geolocation.getCurrentPosition(success, error, { enableHighAccuracy: true });

  function success(position) {
    const lat = position.coords.latitude.toFixed(6);
    const lon = position.coords.longitude.toFixed(6);
    const url = `${SCRIPT_URL}?area=${encodeURIComponent(area)}&posicao=${posicao}&lat=${lat}&lon=${lon}`;

fetch('https://script.google.com/macros/s/AKfycbxExemploDaSuaURL/exec', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    doca: doca,
    ponto: ponto,
    lat: latitude,
    lng: longitude
  })
})

  function error(err) {
    document.getElementById('status').innerText =
      "‚ùå Erro ao capturar localiza√ß√£o: " + (err.message || "Permiss√£o negada ou GPS desativado.");
  }
}
</script>
</body>
</html>

